<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   NYP Chess Club
  </title>
  <link href="css/style.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"> 
  <!-- This is for the championship icon -->

  <style>
   .error-message {
      color: red;
      font-size: 0.9rem;
      margin-top: 4px;
    }
  </style>
 </head>
 <body>
  <!-- The is the Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-lg">
   <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
     <img src="images/logo.png" alt="NYP Chess Club Logo" class="logo-img">
     <span>
      NYP Chess Club
     </span>
    </a>
    <button class="navbar-toggler" data-bs-target="#navbarNav" data-bs-toggle="collapse" type="button">
     <span class="navbar-toggler-icon">
     </span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
     <ul class="navbar-nav">
      <li class="nav-item">
       <a class="nav-link" href="index.html">
        Home
       </a>
      </li>
      <li class="nav-item">
       <a class="nav-link" href="about.html">
        About
       </a>
      </li>
      <li class="nav-item">
       <a class="nav-link" href="learn.html">
        Learn
       </a>
      </li>
      <li class="nav-item">
       <a class="nav-link" href="event.html">
        Event
       </a>
      </li>
      <li class="nav-item">
       <a class="nav-link" href="contact.html">
        Contact
       </a>
      </li>
      <li class="nav-item">
       <a class="btn btn-warning ms-3 fw-bold" href="join.html">
        Join
       </a>
      </li>
     </ul>
    </div>
   </div>
  </nav>
  <!-- countdown timer display -->
  <div class="fw-bold fs-4 text-danger text-center py-3" id="countdown-timer">
  </div>
  <!-- This is the Hero Section. I seperated Fide.html because I used python to overwrite the rating. Check readme-->
  <main><section class="bg-light py-5 text-center">
    <div class="container">
      <div style="display: flex;flex-direction:column;align-items:center;">
        <img class="rounded-circle mb-2" alt="Magnus Carlsen" src="images/carlsen.jpeg" style="width:150px;height:150px;object-fit:cover;">
        <iframe src="fide.html"
          style="background:transparent;overflow:hidden;border:none;height:3em;width:300px;margin-bottom:15px;"
          scrolling="no"></iframe>
      </div>

      <h1 class="display-4 fw-bold">
        NYP<br><span class="text-primary">Chess Club</span>
      </h1>
      <p style="font-size:1.2rem;" class="fst-italic text-secondary mb-2">
        think it, play it, win it
      </p>
      <p class="lead">
        Make full use of your analytical skills with the NYP Chess Club!
        Whether you're learning the basics or you're a seasoned player, our club provides a welcoming and focused environment for everyone to enjoy, grow, and challenge themselves through the game of chess.
      </p>
      <!-- Thi is the Stats Cards -->
      <div class="row mt-5">
        <div class="mb-4 col-md-4">
          <div class="h-100 p-3 bg-white shadow-sm rounded">
            <i class="bi bi-people mb-2 fs-1"></i>
        <h4><span id="gamesCounter">0</span>+</h4>
<p>Games Played Monthly</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="rounded h-100 shadow-sm p-3 bg-white">
            <i class="bi bi-trophy mb-2 fs-1"></i>
            <h4>1</h4>
            <p>InterPoly Title Won</p>
          </div>
        </div>
        <div class="mb-4 col-md-4">
          <div class="rounded shadow-sm bg-white h-100 p-3">
            <i class="bi bi-clock mb-2 fs-1"></i>
            <h4>2x</h4>
            <p>Training Sessions Weekly</p>
          </div>
        </div>
      </div>

<!-- This is the testimonials Carousel -->
<div class="mt-5">
  <h3 class="fw-bold text-center mb-4">What Our Members Say</h3>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">

          <div class="carousel-item active">
            <div class="card shadow-sm border-0">
              <div class="d-flex card-body align-items-center">
                <img src="images/student1.jpg" alt="Melissa Tan Year 1 SIT" class="rounded-circle me-3 member-photo">
                <div class="text-start">
                  <p class="mb-2 card-text">
                    "NYP Chess Club is definitely the highlight of my poly life. I met cool and smart people there and made a lot of new friends."
                  </p>
                  <h6 class="card-subtitle text-muted">– Melissa Tan, Year 1, SIT</h6>
                </div>
              </div>
            </div>
          </div>

          <div class="carousel-item">
            <div class="card shadow-sm border-0">
              <div class="d-flex card-body align-items-center">
                <img src="images/student2m.jpg" alt="Peter Tan Year 2 School of Engineering" class="rounded-circle me-3 member-photo">
                <div class="text-start">
                  <p class="mb-2 card-text">
                    "From 300+ FIDE to 1800 FIDE. I cannot believe I did it in a year."
                  </p>
                  <h6 class="text-muted card-subtitle">– Peter Tan, Year 2, School of Engineering</h6>
                </div>
              </div>
            </div>
          </div>

          <div class="carousel-item">
            <div class="card shadow-sm border-0">
              <div class="d-flex card-body align-items-center">
                <img src="images/student5.jpg" alt="Han XiangRui, Year 1, SIT" class="rounded-circle me-3 member-photo">
                <div class="text-start">
                  <p class="mb-2 card-text">
                    "The leaders are chill and welcoming. I feel at ease in the club."
                  </p>
                  <h6 class="text-muted card-subtitle">– Han XiangRui, Year 1, SIT</h6>
                </div>
              </div>
            </div>
          </div>

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon"></span>
        </button>
      </div>
    </div>
  </div>
</div>

      <div class="my-5">
        <blockquote class="blockquote text-center">
          <p id="quote" class="mb-3 fs-4 fst-italic"></p>
        </blockquote>
      </div>
      <!-- This is the Comitte Section -->
      <div class="my-5">
  <h3 class="fw-bold text-center mb-4">Meet Our Committee</h3>
  <div class="row g-4 justify-content-center">

    <div class="col-md-3 col-6">
      <div class="card border-0 text-center shadow-sm">
        <img alt="Andy Lim" src="images/andy.jpg" class="mx-auto mt-3 card-img-top rounded-circle" style="width:100px;height:100px;object-fit:cover;">
        <div class="card-body">
          <h5 class="card-title mb-0">Andy Lim</h5>
          <div class="text-primary mb-1">
            Blitz: <span class="blitz-rating" data-username="andylim190168">Loading...</span>
          </div>
          <p class="small card-text text-muted">President</p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-6">
      <div class="shadow-sm text-center card border-0">
        <img alt="Jane Lee" src="images/student3.jpg" class="mx-auto mt-3 card-img-top rounded-circle" style="width:100px;height:100px;object-fit:cover;">
        <div class="card-body">
          <h5 class="mb-0 card-title">Jane Lee</h5>
          <div class="mb-1 text-primary">
            Blitz: <span class="blitz-rating" data-username="janelee77">Loading...</span>
          </div>
          <p class="text-muted card-text small">Vice President</p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-6">
      <div class="border-0 card shadow-sm text-center">
        <img class="mx-auto mt-3 rounded-circle card-img-top" src="images/student4.jpg" style="width:100px;height:100px;object-fit:cover;" alt="Rahul Kumar">
        <div class="card-body">
          <h5 class="mb-0 card-title">Rahul Kumar</h5>
          <div class="mb-1 text-primary">
            Blitz: <span class="blitz-rating" data-username="rahulkumar88">Loading...</span>
          </div>
          <p class="text-muted card-text small">Secretary</p>
        </div>
      </div>
    </div>

  </div>
</div>	

    </div>
  </section></main>
  <!-- This is the footer with the links and the chess club info -->
  <footer class="bg-primary text-warning py-5" style="background-color:#0a1930 !important;">
   <div class="container">
    <div class="row">
     <div class="col-md-4">
      <h5 class="fw-bold text-warning">
       NYP Chess Club
      </h5>
      <p>
       We're a community that loves chess, and we hope you'll join us to learn, play, and have fun together!
      </p>
     </div>
     <div class="col-md-4">
      <h5 class="fw-bold text-warning">
       Quick Links
      </h5>
      <ul class="list-unstyled">
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="index.html">
         Home
        </a>
       </li>
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="about.html">
         About
        </a>
       </li>
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="learn.html">
         Learn
        </a>
       </li>
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="event.html">
         Event
        </a>
       </li>
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="contact.html">
         Contact
        </a>
       </li>
       <li>
        <a class="fw-semibold text-warning text-decoration-none" href="join.html">
         Join
        </a>
       </li>
      </ul>
     </div>
     <div class="col-md-4">
      <h5 class="fw-bold text-warning">
       Meeting Info
      </h5>
      <p>
       Tues &amp; Thurs
       <br/>
       3:30 PM - 4:30 PM
       <br/>
       Blk L, Level 3, Rm L315
       <br/>
       Nanyang Polytechnic
      </p>
     </div>
    </div>
    <div class="pt-4 text-center border-top mt-4 border-secondary">
     © 2025 NYP Chess Club. Part of NYP Student Activities.
    </div>
   </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js">
  </script>
  <script>
  //this is a simple gamecounter script. This animate counting from 0 to 100+ to show games played monthly.the target and speed can be changed
  const counterEl = document.getElementById('gamesCounter');
  if (counterEl) {
    let count = 0;
    const target = 100;
    const speed = 10;

    const updateCounter = () => {
      if (count < target) {
        count++;
        counterEl.textContent = count;
        setTimeout(updateCounter, speed);
      } else {
        counterEl.textContent = target;
      }
    };

    updateCounter();
  }
</script>
  <script src="js/countdown.js"></script>
  <script>
// Fetch chess blitz rating from Chess.com API for a given username
async function fetchBlitzRating(username) {
  try {
    //there is a API endpoint for this player stats
    const res = await fetch(`https://api.chess.com/pub/player/${encodeURIComponent(username)}/stats`);
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const data = await res.json();
    //if the fetch is null, return N/A
    return data.chess_blitz?.last?.rating ?? "N/A";
  } catch (e) {
    //error logging
    console.error("fetchBlitzRating error:", e);
    return "Error";
  }
}

// Update all blitz ratings on the page
async function updateBlitzRatings() {
  const spans = document.querySelectorAll(".blitz-rating[data-username]");
  for (const span of spans) {
    span.textContent = "Loading...";
    const username = span.dataset.username;
    const rating = await fetchBlitzRating(username);
    span.textContent = rating;
  }
}
updateBlitzRatings();
</script>
  </body>
</html>
